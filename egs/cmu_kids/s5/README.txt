Author: He Gu
E-mail: gh1z114@gmail.com

This is the recipe I'm currently working on. This recipe is based on 
the yesno example and the resource management example, so it would be
helpful to take a look at those two examples and run them (run rm/s4
because it doesn't require the entire resource management corpus).
I have implemented up to tri2a, and will implement more steps of training
in the future. The currently completed and working script is run.sh, 
mono_run.sh is for testing and I'm still working on tmp_run.sh.

The path.sh contains all the variables to be used in the scripts.
	There are two special variables:
	# the CORPUS_SUBSET is the subset upon which the system is trained
	# the TEST_SUBSET is the subset upon which the recognizing is tested
	export CORPUS_SUBSET=100
	export TEST_SUBSET=20
	

The input directory contains some pre-exist files either brrowed from the 
corpus or generated from some scripts. This directory should always have:
	phones.txt: phones file, the corpus mentioned almost all the phones in its
	documents. 
	lexicon.txt: also can be found in the corpus.
	lexicon_nosil.txt: contains the non silence lexicons in lexicon.txt.
	task.arpabo: arpa format language model, can be generated by local/arpa_gen.sh
	transcrip.tbl: transcript of the audio files.
NOTE: All the above files should be in correct format, for example:
	$ head phones.txt 
	<eps> 0
	AA 1
	AE 2
	AH 3
	AO 4
	AW 5
	AX 6
	AXR 7
	AY 8
	B 9

	$ head lexicon.txt 
	!EXCLAMATION-POINT       	EH K S K L AX M EY SH AX N P OY N TD
	"CLOSE-QUOTE             	K L OW Z K W OW TD
	"DOUBLE-QUOTE            	D AH B AX L K W OW TD
	"END-OF-QUOTE            	EH N D AX V K W OW TD
	"END-QUOTE               	EH N DD K W OW TD
	"IN-QUOTES               	IH N K W OW TS
	"QUOTE                   	K W OW TD
	"UNQUOTE                 	AH N K W OW TD
	#SHARP-SIGN              	SH AA R P S AY N
	%PERCENT                 	P AXR S EH N TD

	$ head transcrp.tbl 
	fabm2aa1 <s> SIL A SCIENTIST WALKED THROUGH A FIELD </s>
	fabm2ab2 <s> A [BEGIN_NOISE] BLUE [END_NOISE] BUTTERFLY [BEGIN_NOISE] /F/ SIL FLEW [END_NOISE] [BEGIN_NOISE] BY [END_NOISE] </s>
	fabm2ac1 <s> THE(2) SCIENTIST WAS(3) SURPRISED </s>
	fabm2ad2 <s> HE HAD THOUGHT THE(2) BLUE [BEGIN_NOISE] BUTTERFLY [END_NOISE] WAS(3) [BEGIN_NOISE] EXTINCT [END_NOISE] </s>
	fabm2ae2 <s> ONCE SIL MANY [BEGIN_NOISE] BLUE BUTTERFLIES SIL LIVED(2) IN(2) [END_NOISE] /K AE(/AE/) L(/L/) IH(/IH/) F(/F/) AO(/AO/) R(/R/) N/ </s>
	fabm2af1 <s> SIL THEY LIVED(2) IN(2) FIELDS OF(2) FLOWERS </s>
	fabm2ag1 <s> PEOPLE BUILT HOUSES(2) </s>
	fabm2ah1 <s> THE(2) BUTTERFLIES LOST THEIR HOMES </s>
	fabm2ai1 <s> SIL SCIENTISTS(2) THOUGHT ALL THE(2) BLUE BUTTERFLIES HAD DIED </s>
	fabm2aj1 <s> SIL NOW THEY SAY SOME OF(2) THE(2) BUTTERFLIES ARE ALIVE </s>

	For details of data preparation, see http://kaldi.sourceforge.net/data_prep.html
	The relation of each file:
	The words in transcript should exist in lexicon file.
	The phones that compose each word in lexicon file should exist in phones file.

The scripts, utils and steps directories contains the scripts for different steps of decoding.

If you were to add data into the corpus for training, here is what you should do:
	Assuming you have a bunch of .wav files and the corresponding transcripts,
	1, Read through the cmu_kids corpus documents and get a sense how the corpus directories 
	   are orginazed, and the name convention of the folder.
	2, Make sure the .wav files are 1.6kHz, and put them into the corresponding directories.
	   For example, if you have a speaker fabm2az2, then the .wav file should go to 
	   ${cmu_kids_corpus_root}/kids/fabm2az2/cvt-signal
	3, Add to the existing transcript your new ones.
	   Your transcript should contain not only what the kid actually said, but also the noise, yawn,
	   silence, etc, and you can find the representation of them in the existing transcript file
	   input/transcrp.tbl. This is just for a more precise WER computation.
	4, If there is any new word in your transcript that doesn't exist in lexicon, update it both
	   in lexicon.txt and lexicon_nonsil.txt.
	5, When adding new words in lexicon files, make sure the corresponding phones all exist in
	   phones.txt. Or if you are using new phones, add them to phones.txt.
